bem-data-source
===============

Инструмент для версионированной сборки документации и примеров библиотек для проектов bem-info legoa-www.

### Установка

* клонировать репозиотрий `git clone git://github.com/bem/bem-data-source.git`
* перейти в директорию с выкачанным проектом `cd bem-data-source`
* запустить команду `make`

Команда `make` устанавливает зависимости для проекта и генерирует конфигурационный файл:
* `config/credentials.json`

### Конфигурирование

Конфигурация инструмента описывается в файлах `config/config.json`, `config/credentials.json`.

##### `config/config.json`

* `logLevel` - флаг уровня логгирования.
* `gitAPI` - конфигурация github API для доступа к приватным и публичным репозиториям github.

##### `config/credentials.json`

Файл с токенами доступа к публичным и приватным репозиториям (github.com и github.yandex-team.ru соответственно)
Необходимо сгенерировать токены доступа в настройках профиля пользователя на github.com и github.yandex.team.ru
и вставить как значения соответствующих token-полей в данном файле.

```
"credentials": {
    "public": {
        "type": "oauth",
        "token": ""
    },
    "private": {
        "type": "oauth",
        "token": ""
    }
}
```

Также в этом файле настраивается конфигурация для доступа целевому репозиторию
в который будет помещен результат сборки, например:

```
"dataConfig": {
    "private": "false",
    "user": "bem",
    "repo": "bem-info-libs",
    "ref": "master"
}
```

### Запуск

Запуск выполняется командой `node bin/start.js` с указанием дополнительных опций:

* `-p` или `--private`, если репозиторий внутренний
* `-u` или `--user` - имя пользователя или название организации (обязательный параметр)
* `-r` или `--repo` - название репозитория (обязательный параметр)
* `-t` или `--tags` - название версии (тега) библиотеки
* `-b` или `--branches` - название ветки библиотеки

Можно указывать несколько тегов или веток одного и того же репозитория для сборки,
например: `-t v0.0.1 -t v0.0.1 ...`. Нужно указать хотя бы один тег или ветку, которая будет
участвовать в сборке.

Ответственный за разработку @bemer

Вопросы и пожелания присылать по адресу: bemer@yandex-team.ru
